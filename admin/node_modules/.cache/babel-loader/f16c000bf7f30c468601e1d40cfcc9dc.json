{"remainingRequest":"/Users/mac/Desktop/vue-moba-web/admin/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/vue-moba-web/admin/src/http.js","dependencies":[{"path":"/Users/mac/Desktop/vue-moba-web/admin/src/http.js","mtime":1581329137726},{"path":"/Users/mac/Desktop/vue-moba-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/vue-moba-web/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKdmFyIGh0dHAgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYWRtaW4vYXBpJwp9KTsKaHR0cC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIERvIHNvbWV0aGluZyBiZWZvcmUgcmVxdWVzdCBpcyBzZW50CiAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArIGxvY2FsU3RvcmFnZS50b2tlbjsKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXF1ZXN0IGVycm9yCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7Cmh0dHAuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgcmV0dXJuIHJlczsKfSwgZnVuY3Rpb24gKGVycikgewogIGlmIChlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICBWdWUucHJvdG90eXBlLiRtZXNzYWdlKHsKICAgICAgbWVzc2FnZTogZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgdHlwZTogJ2Vycm9yJwogICAgfSk7CiAgfQoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7CmV4cG9ydCBkZWZhdWx0IGh0dHA7"},{"version":3,"sources":["/Users/mac/Desktop/vue-moba-web/admin/src/http.js"],"names":["axios","Vue","http","create","baseURL","interceptors","request","use","config","headers","Authorization","localStorage","token","error","Promise","reject","response","res","err","data","message","prototype","$message","type"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,IAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAE;AADa,CAAb,CAAb;AAIAF,IAAI,CAACG,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,UAAUC,MAAV,EAAkB;AAC5C;AACAA,EAAAA,MAAM,CAACC,OAAP,CAAeC,aAAf,GAA+B,YAAYC,YAAY,CAACC,KAAxD;AACA,SAAOJ,MAAP;AACH,CAJD,EAIG,UAAUK,KAAV,EAAiB;AAChB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAPD;AASAX,IAAI,CAACG,YAAL,CAAkBW,QAAlB,CAA2BT,GAA3B,CAA+B,UAAAU,GAAG,EAAI;AAClC,SAAOA,GAAP;AACH,CAFD,EAEG,UAAAC,GAAG,EAAI;AACN,MAAIA,GAAG,CAACF,QAAJ,CAAaG,IAAb,CAAkBC,OAAtB,EAA+B;AAC3BnB,IAAAA,GAAG,CAACoB,SAAJ,CAAcC,QAAd,CAAuB;AACnBF,MAAAA,OAAO,EAAEF,GAAG,CAACF,QAAJ,CAAaG,IAAb,CAAkBC,OADR;AAEnBG,MAAAA,IAAI,EAAE;AAFa,KAAvB;AAIH;;AACD,SAAOT,OAAO,CAACC,MAAR,CAAeG,GAAf,CAAP;AACH,CAVD;AAWA,eAAehB,IAAf","sourcesContent":["import axios from 'axios'\nimport Vue from 'vue'\nconst http = axios.create({\n    baseURL: 'http://localhost:3000/admin/api'\n})\n\nhttp.interceptors.request.use(function (config) {\n    // Do something before request is sent\n    config.headers.Authorization = 'Bearer ' + localStorage.token\n    return config;\n}, function (error) {\n    // Do something with request error\n    return Promise.reject(error);\n});\n\nhttp.interceptors.response.use(res => {\n    return res\n}, err => {\n    if (err.response.data.message) {\n        Vue.prototype.$message({\n            message: err.response.data.message,\n            type: 'error'\n        })\n    }\n    return Promise.reject(err)\n})\nexport default http"]}]}