{"remainingRequest":"/Users/mac/Desktop/vue-moba-web/admin/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/vue-moba-web/admin/src/http.js","dependencies":[{"path":"/Users/mac/Desktop/vue-moba-web/admin/src/http.js","mtime":1581400157839},{"path":"/Users/mac/Desktop/vue-moba-web/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/vue-moba-web/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKdmFyIGh0dHAgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYWRtaW4vYXBpJwp9KTsKaHR0cC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIERvIHNvbWV0aGluZyBiZWZvcmUgcmVxdWVzdCBpcyBzZW50CiAgaWYgKGxvY2FsU3RvcmFnZS50b2tlbikgewogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArIChsb2NhbFN0b3JhZ2UudG9rZW4gfHwgJycpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gRG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpodHRwLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIHJldHVybiByZXM7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICBpZiAoZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSkgewogICAgVnVlLnByb3RvdHlwZS4kbWVzc2FnZSh7CiAgICAgIG1lc3NhZ2U6IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgIHR5cGU6ICdlcnJvcicKICAgIH0pOwoKICAgIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDAxKSB7CiAgICAgIGNvbnNvbGUubG9nKCdsb2dpbicpOwogICAgfQogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7Cn0pOwpleHBvcnQgZGVmYXVsdCBodHRwOw=="},{"version":3,"sources":["/Users/mac/Desktop/vue-moba-web/admin/src/http.js"],"names":["axios","Vue","http","create","baseURL","interceptors","request","use","config","localStorage","token","headers","Authorization","error","Promise","reject","response","res","err","data","message","prototype","$message","type","statusCode","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,IAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAE;AADa,CAAb,CAAb;AAIAF,IAAI,CAACG,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,UAAUC,MAAV,EAAkB;AAC5C;AACA,MAAGC,YAAY,CAACC,KAAhB,EAAsB;AAElBF,IAAAA,MAAM,CAACG,OAAP,CAAeC,aAAf,GAA+B,aAAaH,YAAY,CAACC,KAAb,IAAsB,EAAnC,CAA/B;AACH;;AACD,SAAOF,MAAP;AACH,CAPD,EAOG,UAAUK,KAAV,EAAiB;AAChB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAVD;AAYAX,IAAI,CAACG,YAAL,CAAkBW,QAAlB,CAA2BT,GAA3B,CAA+B,UAAAU,GAAG,EAAI;AAClC,SAAOA,GAAP;AACH,CAFD,EAEG,UAAAC,GAAG,EAAI;AACN,MAAIA,GAAG,CAACF,QAAJ,CAAaG,IAAb,CAAkBC,OAAtB,EAA+B;AAC3BnB,IAAAA,GAAG,CAACoB,SAAJ,CAAcC,QAAd,CAAuB;AACnBF,MAAAA,OAAO,EAAEF,GAAG,CAACF,QAAJ,CAAaG,IAAb,CAAkBC,OADR;AAEnBG,MAAAA,IAAI,EAAE;AAFa,KAAvB;;AAIA,QAAGL,GAAG,CAACF,QAAJ,CAAaQ,UAAb,KAA4B,GAA/B,EAAmC;AAC/BC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH;AACJ;;AACD,SAAOZ,OAAO,CAACC,MAAR,CAAeG,GAAf,CAAP;AACH,CAbD;AAcA,eAAehB,IAAf","sourcesContent":["import axios from 'axios'\nimport Vue from 'vue'\nconst http = axios.create({\n    baseURL: 'http://localhost:3000/admin/api'\n})\n\nhttp.interceptors.request.use(function (config) {\n    // Do something before request is sent\n    if(localStorage.token){\n\n        config.headers.Authorization = 'Bearer ' + (localStorage.token || '')\n    }\n    return config;\n}, function (error) {\n    // Do something with request error\n    return Promise.reject(error);\n});\n\nhttp.interceptors.response.use(res => {\n    return res\n}, err => {\n    if (err.response.data.message) {\n        Vue.prototype.$message({\n            message: err.response.data.message,\n            type: 'error'\n        })\n        if(err.response.statusCode === 401){\n            console.log('login');\n        } \n    }\n    return Promise.reject(err)\n})\nexport default http"]}]}